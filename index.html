<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Christmas UNR - Content ID Dispute</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: linear-gradient(135deg, #ff9a9e, #fad0c4); color: #1a1a1a; min-height: 100vh; }
    .container { max-width: 960px; margin: 30px auto; background: white; padding: 35px; border-radius: 20px; box-shadow: 0 12px 30px rgba(0,0,0,0.15); }
    h1 { text-align: center; color: #c62828; margin: 0 0 10px; font-size: 28px; }
    .subtitle { text-align: center; color: #d32f2f; margin-bottom: 25px; font-weight: bold; font-size: 16px; }
    label { font-weight: 600; display: block; margin: 20px 0 8px; color: #333; }
    input, select { width: 100%; padding: 14px; border: 1.5px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.2s; }
    input:focus, select:focus { border-color: #c62828; outline: none; box-shadow: 0 0 8px rgba(198,40,40,0.2); }
    button { 
      margin: 28px 0 10px; padding: 16px; background: #c62828; color: white; border: none; border-radius: 10px; 
      font-weight: bold; font-size: 18px; cursor: pointer; width: 100%; transition: 0.3s;
    }
    button:hover { background: #b71c1c; transform: translateY(-2px); }
    .copy-btn { background: #2e7d32; margin-top: 12px; width: auto; padding: 10px 20px; font-size: 15px; border-radius: 8px; }
    .output { margin-top: 25px; padding: 22px; border: 1px solid #e0e0e0; background: #fffde7; border-radius: 12px; white-space: pre-wrap; font-family: 'Courier New', monospace; line-height: 1.7; font-size: 15px; }
    .success { color: #2e7d32; font-weight: bold; text-align: center; margin: 12px 0; }
    .error { color: #c62828; font-weight: bold; text-align: center; }
    .info { font-size: 14px; color: #666; margin-top: 5px; text-align: center; }
    .wm-logo { text-align: center; margin: 15px 0; font-weight: bold; color: #d32f2f; }
    .guide { background: #e3f2fd; padding: 15px; border-radius: 10px; margin: 20px 0; font-size: 15px; line-height: 1.6; border-left: 5px solid #1976d2; }
  </style>
</head>
<body>

<div class="container">
  <h1>Christmas UNR</h1>
  <p class="subtitle">Content ID Dispute Generator – 41 Bài Hát Public Domain</p>
  <div class="wm-logo">Phát hành: Warner Music</div>

  <label>1. Chọn hoặc nhập tên bài hát:</label>
  <input type="text" id="songTitle" list="songList" placeholder="VD: Silent Night, Come Ye Lofty..." />
  <datalist id="songList"></datalist>

  <label>2. Chọn nghệ sĩ cover:</label>
  <select id="artistSelect">
    <option value="">-- Chọn nghệ sĩ --</option>
  </select>
  <div class="info" id="artistInfo"></div>

  <button onclick="generateDispute()">TẠO NỘI DUNG TRANH CHẤP</button>

  <div class="guide">
    <strong>HƯỚNG DẪN DÁN VÀO YOUTUBE:</strong><br>
    1. Vào YouTube Studio → Content → Video bị claim<br>
    2. Chọn <strong>Kháng Nghị</strong> → Chọn <strong>"Phạm Vi Thuộc Miền Cộng Đồng"</strong><br>
    3. <strong>Paste đoạn kháng nghị bên dưới vào ô</strong><br>
    4. Ký tên: <strong>Ngo Van Dat</strong> (đã tự động thêm)
  </div>

  <div id="result"></div>
</div>

<script>
  // === PUBLIC DOMAIN DATA (41 bài – 3 có, 38 placeholder) ===
  const pdSongs = {
    "Come Ye Lofty": {
      fullTitle: "Come Ye Lofty, Come Ye Lowly",
      wordsBy: "Traditional Breton carol, English trans. Richard R. Chope (1875)",
      year: "1875",
      pdNote: "Traditional Breton carol, English lyrics 1875 — public domain worldwide."
    },
    "Let All Mortal Flesh Keep Silence": {
      fullTitle: "Let All Mortal Flesh Keep Silence",
      wordsBy: "Liturgy of St. James (4th c.), English trans. Gerard Moultrie (1864)",
      year: "1864",
      pdNote: "Ancient hymn from 4th century, English trans. 1864 — public domain globally."
    },
    "Toyland Song": {
      fullTitle: "Toyland",
      wordsBy: "Victor Herbert (music), Glen MacDonough (lyrics)",
      year: 1903,
      pdNote: "From 'Babes in Toyland' (1903). Copyright expired 1998 — public domain."
    }
    // === 38 BÀI CÒN LẠI SẼ ĐƯỢC THÊM TẠI ĐÂY ===
  };

  // === DỮ LIỆU ÂM THANH – 41 BÀI ===
  const recordings = [
    { song: "Come Ye Lofty", artist: "Alex C.", isrc: "VNKH12514280", date: 45961 },
    { song: "Let All Mortal Flesh Keep Silence", artist: "Alex C.", isrc: "VNKH12514281", date: 45961 },
    { song: "Toyland Song", artist: "Alex C.", isrc: "VNKH12514282", date: 45961 },
    // === 38 BÀI MỚI SẼ ĐƯỢC THÊM TẠI ĐÂY ===
  ];

  // === TỰ ĐỘNG TẠO DROPDOWN ===
  const songList = document.getElementById("songList");
  const artistSelect = document.getElementById("artistSelect");
  const artistInfo = document.getElementById("artistInfo");

  Object.keys(pdSongs).forEach(title => {
    const opt = document.createElement("option");
    opt.value = title;
    songList.appendChild(opt);
  });

  const artists = [...new Set(recordings.map(r => r.artist))];
  artists.forEach(art => {
    const opt = document.createElement("option");
    opt.value = art;
    opt.textContent = art;
    artistSelect.appendChild(opt);
  });

  artistSelect.addEventListener("change", () => {
    const art = artistSelect.value;
    if (art) {
      const count = recordings.filter(r => r.artist === art).length;
      artistInfo.textContent = `${art} có ${count}/41 bản cover (Warner Music)`;
    } else {
      artistInfo.textContent = "";
    }
  });

  // Format ngày
  function formatDate(serial) {
    if (!serial) return "N/A";
    const date = new Date((serial - 25569) * 86400 * 1000);
    const d = String(date.getUTCDate()).padStart(2, '0');
    const m = String(date.getUTCMonth() + 1).padStart(2, '0');
    const y = date.getUTCFullYear();
    return `${d}/${m}/${y}`;
  }

  // === TẠO NỘI DUNG ===
  function generateDispute() {
    const song = document.getElementById("songTitle").value.trim();
    const artist = document.getElementById("artistSelect").value;
    const resultDiv = document.getElementById("result");

    if (!song || !artist) {
      resultDiv.innerHTML = `<p class="error">Vui lòng chọn cả bài hát và nghệ sĩ!</p>`;
      return;
    }

    const pd = pdSongs[song];
    if (!pd) {
      resultDiv.innerHTML = `<p class="error">Không có dữ liệu PD cho: <strong>${song}</strong></p>`;
      return;
    }

    const rec = recordings.find(r => r.song === song && r.artist === artist);
    if (!rec) {
      resultDiv.innerHTML = `<p class="error">Không có bản cover <strong>${song}</strong> của <strong>${artist}</strong>!</p>`;
      return;
    }

    const releaseDate = formatDate(rec.date);

    const content = `CONTENT ID DISPUTE RATIONALE

PART A: ENGLISH VERSION (For Protests on YouTube)
SUBJECT: RELEASE OF CONTENT ID CLAIM - COMPOSITION IS PUBLIC DOMAIN

1. ORIGINAL SONG AND PUBLIC DOMAIN INFORMATION:
Full Title: ${pd.fullTitle}
Words by: ${pd.wordsBy}
Year of Composition: ${pd.year}
Copyright Status: ${pd.pdNote} This means the core melody and lyrics are no longer protected by copyright and can be used freely. (Copyright regulations are detailed in the United States Copyright Act, Title 17 Code.)

2. SOUND RECORDING ASSERTION:
Our video uses a cover version (new Sound Recording) produced by our company, based entirely on the original Public Domain melody.
Full Title: ${pd.fullTitle}
Cover Artist: ${rec.artist}
ISRC: ${rec.isrc}
Release Date: ${releaseDate}
Distributor: Warner Music

3. DISPUTE AND REQUEST:
This Content ID Claim is erroneous because it targets the Melody which is demonstrably in the Public Domain. The Claimant can only own the copyright to their specific Sound Recording or a unique Arrangement, but they cannot exclusively claim the original Public Domain melody.
We request the Claimant verify and release the Claim immediately. If the Claim is upheld, we will proceed with submitting a legal Appeal and prepare the necessary procedures for a court dispute to protect the lawful rights of our Sound Recording.

Signed: Ngo Van Dat`;

    resultDiv.innerHTML = `
      <div class="output">${content}</div>
      <button class="copy-btn" onclick="copyToClipboard()">Copy to Clipboard</button>
      <p class="success">Tạo thành công! Dán vào YouTube → Ký tên: Ngo Van Dat</p>
    `;

    window.lastContent = content;
  }

  // === COPY TO CLIPBOARD ===
  function copyToClipboard() {
    const textarea = document.createElement("textarea");
    textarea.value = window.lastContent;
    textarea.style.position = "fixed"; textarea.style.opacity = "0";
    document.body.appendChild(textarea);
    textarea.select();
    try {
      document.execCommand("copy");
      alert("Đã copy vào clipboard!");
    } catch (err) {
      prompt("Copy thất bại. Dán thủ công:", window.lastContent);
    }
    document.body.removeChild(textarea);
  }
</script>

</body>
</html>
